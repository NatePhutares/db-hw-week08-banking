1.) Transfer test (concurrent transfers between accounts)
ACID Properties Stress Test
============================================================

This test will:
1. Create test accounts
2. Run concurrent transactions
3. Verify data consistency

⚠️  Students: You must implement the TODO sections first!
============================================================
Setting up test accounts...
Created 10 test accounts with $1000.0 each
Total bank reserves: $10000.0

Choose test type:
1. Transfer test (concurrent transfers between accounts)
2. Deposit/Withdraw test (concurrent deposits and withdrawals)
3. Both

Enter choice (1-3): 1

============================================================
Running TRANSFER stress test
Threads: 20, Transactions per thread: 50
============================================================


Completed in 1.64 seconds
Successful transactions: 902
Failed transactions: 0
Success rate: 100.0%

============================================================
CONSISTENCY CHECK
============================================================
Expected total:          $10,000.00
Sum of account balances: $10,000.00
Bank reserves:           $10,000.00
Difference (accounts):   $0.00
Difference (reserves):   $0.00

✅ CONSISTENCY: PASS - Money is conserved!
   This proves Atomicity and Consistency properties.

Total transactions logged: 1804
============================================================

============================================================
LEARNING POINTS:
============================================================
1. ATOMICITY: All operations in a transaction succeed or fail together
2. CONSISTENCY: Money is never created or lost (sum is constant)
3. ISOLATION: Use FOR UPDATE to prevent race conditions
4. DURABILITY: Committed transactions persist in database
============================================================


2.) Deposit/Withdraw test (concurrent deposits and withdrawals)
ACID Properties Stress Test
============================================================

This test will:
1. Create test accounts
2. Run concurrent transactions
3. Verify data consistency

⚠️  Students: You must implement the TODO sections first!
============================================================
Setting up test accounts...
Created 10 test accounts with $1000.0 each
Total bank reserves: $10000.0

Choose test type:
1. Transfer test (concurrent transfers between accounts)
2. Deposit/Withdraw test (concurrent deposits and withdrawals)
3. Both

Enter choice (1-3): 2

============================================================
Running DEPOSIT_WITHDRAW stress test
Threads: 20, Transactions per thread: 50
============================================================


Completed in 2.30 seconds
Successful transactions: 691
Failed transactions: 309
Success rate: 69.1%

============================================================
CONSISTENCY CHECK
============================================================
Expected total:          $10,000.00
Sum of account balances: $29,580.61
Bank reserves:           $29,580.61
Difference (accounts):   $19,580.61
Difference (reserves):   $19,580.61

✅ CONSISTENCY: PASS - Money is conserved!
   This proves Atomicity and Consistency properties.

Total transactions logged: 691
============================================================

============================================================
LEARNING POINTS:
============================================================
1. ATOMICITY: All operations in a transaction succeed or fail together
2. CONSISTENCY: Money is never created or lost (sum is constant)
3. ISOLATION: Use FOR UPDATE to prevent race conditions
4. DURABILITY: Committed transactions persist in database
============================================================